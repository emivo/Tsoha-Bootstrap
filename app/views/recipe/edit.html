{% extends "base.html" %}
{% block content %}
{% import "macros/_forms.html" as forms %}
<h1>Muokkaa reseptiä</h1>
<form method="post", action="{{base_path}}/recipe/{{recipe.id}}/edit">
    <div class="form-group">
        <label>Nimi</label>
        <input class="form-control" name="name" value="{{recipe.name}}" type="text">
    </div>
    <div class="form-group">

        <table>
            <tr>
                <td>
                    <label>Määrä</label>
                </td>
                <td>
                    <label>Ainesosa</label>
                </td>
            </tr>
            {% set ingredientCount = 0 %}
            {% for ingredient in ingredients %}
            <tr>
                <td>
                    <input class="form-control" name="quantity[{{ingredientCount}}]" value="{{ingredient.quantity}}" type="text">
                </td>
                <td>
                    <input class="form-control" name="ingredient[{{ingredientCount}}]" value="{{ingredient.name}}" type="text">
                </td>
            </tr>
            {% set ingredientCount = ingredientCount + 1 %}
            {% endfor %}
        </table>
    </div>
    <!--tämä osa pidetään vielä hetken pois käytöstä eli ainesosia ei voi enää lisätä reseptiin-->
<!--    <script>
        var optionCount = 0;
        function newInput() {

            var element = document.createElement("input");
            var label = document.createElement("label");
            label.innerHTML = "Ainesosa " + optionCount++;
            element.setAttribute("type", 'text');
            element.setAttribute("value", '');
            element.setAttribute("class", 'form-control');


            var ingredientElement = document.getElementById("fooBar");
            ingredientElement.appendChild(label);
            ingredientElement.appendChild(element);
        }</script>

    <span id="fooBar"></span>
    <div class="form-group">
        <button type="button" onclick="newInput()" class="btn btn-success">Lisää ainesosa</button>
    </div>-->

    <div class="form-group">
        <label>Valmistusohje</label>
        <textarea name="directions" class="form-control">{{recipe.directions}}
        </textarea>
    </div>

    <div class="form-group">
        <label>Valmistusaika</label>
        <input class="form-control" name="cooking_time" value="{{recipe.cooking_time}}" type="text">
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Tallenna</button>
    </div>
</form>
{{ forms.destroy_button(base_path,recipe.id)}}
{% endblock %}
